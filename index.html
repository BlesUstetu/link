<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BlesProduction — Link Shortener</title>

<style>
:root{
  --bg:#050713;
  --panel: rgba(10,14,28,.65);
  --text:#EAF0FF;
  --muted:#A6B0CC;
  --line: rgba(255,255,255,.10);
  --c1:#7C3AED;
  --c2:#22D3EE;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,Segoe UI,Arial;
  background:var(--bg);
  color:var(--text);
  display:flex;
  align-items:center;
  justify-content:center;
  height:100vh;
}

/* ===== SIDE SPACE ANIMATION ===== */
.space{position:fixed;inset:0;z-index:-1;pointer-events:none}
.side{position:absolute;top:0;height:100%;width:22%;}
.side.left{left:0;background:radial-gradient(circle at left center,rgba(124,58,237,.12),transparent 70%)}
.side.right{right:0;background:radial-gradient(circle at right center,rgba(34,211,238,.12),transparent 70%)}

.orbit{
  position:absolute;
  inset:-30%;
  border-radius:50%;
  background:conic-gradient(from 0deg,rgba(34,211,238,.35),rgba(124,58,237,.35),rgba(34,211,238,.35));
  filter:blur(12px);
  animation:spin 25s linear infinite;
  opacity:.25;
}
.side.right .orbit{animation-duration:32s;opacity:.18}

@keyframes spin{to{transform:rotate(360deg)}}

/* ===== CARD ===== */
.card{
  width:420px;
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:22px;
  padding:25px;
  backdrop-filter:blur(12px);
  box-shadow:0 20px 60px rgba(0,0,0,.6);
  text-align:center;
}

h1{
  margin:0 0 6px;
  font-size:20px;
}

.subtitle{
  color:var(--muted);
  font-size:13px;
  margin-bottom:20px;
}

input{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(0,0,0,.35);
  color:white;
  font-size:15px;
  outline:none;
}

input:focus{
  border-color:var(--c2);
  box-shadow:0 0 0 3px rgba(34,211,238,.15);
}

.buttons{
  display:flex;
  gap:10px;
  margin-top:14px;
}

button{
  flex:1;
  padding:12px;
  border-radius:14px;
  border:none;
  font-weight:bold;
  cursor:pointer;
  color:white;
  background:linear-gradient(135deg,var(--c2),var(--c1));
  transition:.2s;
}

button:hover{transform:translateY(-2px)}
button:disabled{opacity:.5;cursor:not-allowed}

.result{
  margin-top:18px;
  padding:12px;
  border-radius:12px;
  background:rgba(255,255,255,.05);
  word-break:break-all;
}

a{color:#22D3EE;text-decoration:none}
a:hover{text-decoration:underline}

.footer{
  margin-top:16px;
  font-size:12px;
  color:var(--muted);
}
</style>
</head>
<body>

<div class="space">
  <div class="side left"><div class="orbit"></div></div>
  <div class="side right"><div class="orbit"></div></div>
</div>

<div class="card">
  <h1>Link Shortener</h1>
  <div class="subtitle">Pendekkan link dengan cepat</div>

  <input id="longUrl" placeholder="https://contoh.com/link-panjang">

  <div class="buttons">
    <button id="shortBtn">Pendekkan</button>
    <button id="copyBtn" disabled>Copy</button>
  </div>

  <div class="result" id="resultBox">Hasil akan muncul di sini</div>

  <div class="footer">© <span id="year"></span> BlesProduction</div>
</div>

<script>
const input = document.getElementById("longUrl");
const resultBox = document.getElementById("resultBox");
const shortBtn = document.getElementById("shortBtn");
const copyBtn = document.getElementById("copyBtn");

document.getElementById("year").textContent = new Date().getFullYear();

let shortUrl="";

function normalize(url){
  if(!url.startsWith("http")) url="https://"+url;
  return url;
}

shortBtn.onclick = async () => {
  const url = normalize(input.value.trim());

  if(!url){
    resultBox.textContent="Masukkan link dulu.";
    return;
  }

  resultBox.textContent="Memproses...";
  shortBtn.disabled=true;

  try{
    const res = await fetch(`https://tinyurl.com/api-create.php?url=${encodeURIComponent(url)}`);
    shortUrl = await res.text();

    if(shortUrl.startsWith("http")){
      resultBox.innerHTML=`<a href="${shortUrl}" target="_blank">${shortUrl}</a>`;
      copyBtn.disabled=false;
    }else{
      resultBox.textContent="Gagal mempersingkat.";
    }
  }catch{
    resultBox.textContent="Terjadi kesalahan.";
  }

  shortBtn.disabled=false;
};

copyBtn.onclick = async () => {
  await navigator.clipboard.writeText(shortUrl);
  copyBtn.textContent="Tersalin ✓";
  setTimeout(()=>copyBtn.textContent="Copy",1500);
};

input.addEventListener("keydown", e=>{
  if(e.key==="Enter") shortBtn.click();
});
</script>
</body>
</html>
